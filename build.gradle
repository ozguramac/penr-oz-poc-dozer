apply plugin: 'java'
apply plugin: 'eclipse'

sourceCompatibility = 1.7
version = '1.0'
jar {
    manifest {
        attributes 'Implementation-Title': 'Dozer Mapping/Hibernate Validation Proof of Concept',
                   'Implementation-Version': version
    }
}

repositories {
    mavenCentral()
}

dependencies {
    compile 'net.sf.dozer:dozer:5.5.+'
    compile 'net.sf.dozer:dozer-spring:5.5.+'
    compile 'org.slf4j:slf4j-simple:1.7.+'
    compile 'org.hibernate:hibernate-validator:5.1.+'
    compile 'javax.el:javax.el-api:2.2.+'
    compile 'org.springframework:spring-context:4.1.+'
    compile 'log4j:log4j:1.2.+'

    testCompile 'junit:junit:4.+'
    testCompile 'org.mockito:mockito-all:1.10.+'
    testCompile 'org.springframework:spring-test:4.1.+'
    testCompile 'org.testng:testng:6.8.+'
}

task testNG(type: Test) {
    useTestNG {}
    reports.html.destination = file("$buildDir/reports/testng")
}

test {
    reports.html.destination = file("$buildDir/reports/test")

    dependsOn testNG

    // listen to events in the test execution lifecycle
    beforeTest { descriptor ->
        logger.lifecycle("Running test: " + descriptor)
    }
}